{"ast":null,"code":"var _jsxFileName = \"/Users/zakariafatihi/github-dashboard-sample/src/adapters/primary/Search/Search.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useSelector } from 'react-redux';\nimport { Navigate } from 'react-router-dom';\nimport { getUserInfosUseCase } from '../../../hexagon/usecases/getUserInfos/getUserInfosUseCase';\nimport { USER_RESET_ERROR } from '../../../redux/actionsTypes/UserActionTypes';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Search = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const [username, setUsername] = useState('');\n  const [redirect, setRedirect] = useState(false);\n  const appState = useSelector(state => state.user);\n  const {\n    loading,\n    error,\n    userInfos\n  } = appState;\n\n  const handleChange = e => {\n    if (error) dispatch({\n      type: USER_RESET_ERROR\n    });\n    const newValue = e.currentTarget.value;\n    setUsername(newValue);\n  };\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n    dispatch(await getUserInfosUseCase(username));\n    setRedirect(true);\n  };\n\n  const shouldRedirect = redirect && username && userInfos;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [shouldRedirect && /*#__PURE__*/_jsxDEV(Navigate, {\n      replace: true,\n      to: \"/user\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 32\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex flex-column min-vh-100 justify-content-center align-items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"d-flex\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"search\",\n          className: \"form-control rounded\",\n          placeholder: \"Github username\",\n          value: username,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-outline-primary mlbtn-5\",\n          disabled: !username,\n          children: \"search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 17\n      }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner-border text-primary mt-1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 29\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-danger\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 27\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Search, \"2Vgs/FinQ3veaTz7xKPQlW8IWNg=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = Search;\nexport default Search;\n\nvar _c;\n\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"names":["React","useState","useDispatch","useSelector","Navigate","getUserInfosUseCase","USER_RESET_ERROR","Search","dispatch","username","setUsername","redirect","setRedirect","appState","state","user","loading","error","userInfos","handleChange","e","type","newValue","currentTarget","value","handleSubmit","event","preventDefault","shouldRedirect"],"sources":["/Users/zakariafatihi/github-dashboard-sample/src/adapters/primary/Search/Search.tsx"],"sourcesContent":["import React, { FunctionComponent, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useSelector } from 'react-redux';\nimport { Navigate } from 'react-router-dom';\nimport { getUserInfosUseCase } from '../../../hexagon/usecases/getUserInfos/getUserInfosUseCase';\nimport { USER_RESET_ERROR } from '../../../redux/actionsTypes/UserActionTypes';\nimport { RootStore } from '../../../redux/Store';\n\nconst Search: FunctionComponent = () => {\n    const dispatch = useDispatch();\n    const [username, setUsername] = useState<string>('');\n    const [redirect, setRedirect] = useState<boolean>(false);\n    const appState = useSelector((state: RootStore) => state.user);\n    const { loading, error, userInfos } = appState;\n\n    const handleChange = (e: React.FormEvent<HTMLInputElement>) => {\n        if (error) dispatch({ type: USER_RESET_ERROR });\n        const newValue = e.currentTarget.value;\n        setUsername(newValue);\n    };\n\n    const handleSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\n        event.preventDefault();\n        dispatch(await getUserInfosUseCase(username));\n        setRedirect(true);\n    };\n\n    const shouldRedirect = redirect && username && userInfos;\n\n    return (\n        <>\n            {shouldRedirect && <Navigate replace to=\"/user\" />}\n            <div className=\"d-flex flex-column min-vh-100 justify-content-center align-items-center\">\n                <form className=\"d-flex\" onSubmit={handleSubmit}>\n                    <input\n                        type=\"search\"\n                        className=\"form-control rounded\"\n                        placeholder=\"Github username\"\n                        value={username}\n                        onChange={handleChange}\n                    />\n                    <button\n                        type=\"submit\"\n                        className=\"btn btn-outline-primary mlbtn-5\"\n                        disabled={!username}\n                    >\n                        search\n                    </button>\n                </form>\n                {loading && <div className=\"spinner-border text-primary mt-1\" />}\n                {error && <p className=\"text-danger\">{error}</p>}\n            </div>\n        </>\n    );\n};\n\nexport default Search;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAmCC,QAAnC,QAAmD,OAAnD;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,SAASC,mBAAT,QAAoC,4DAApC;AACA,SAASC,gBAAT,QAAiC,6CAAjC;;;;AAGA,MAAMC,MAAyB,GAAG,MAAM;EAAA;;EACpC,MAAMC,QAAQ,GAAGN,WAAW,EAA5B;EACA,MAAM,CAACO,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,CAAS,EAAT,CAAxC;EACA,MAAM,CAACU,QAAD,EAAWC,WAAX,IAA0BX,QAAQ,CAAU,KAAV,CAAxC;EACA,MAAMY,QAAQ,GAAGV,WAAW,CAAEW,KAAD,IAAsBA,KAAK,CAACC,IAA7B,CAA5B;EACA,MAAM;IAAEC,OAAF;IAAWC,KAAX;IAAkBC;EAAlB,IAAgCL,QAAtC;;EAEA,MAAMM,YAAY,GAAIC,CAAD,IAA0C;IAC3D,IAAIH,KAAJ,EAAWT,QAAQ,CAAC;MAAEa,IAAI,EAAEf;IAAR,CAAD,CAAR;IACX,MAAMgB,QAAQ,GAAGF,CAAC,CAACG,aAAF,CAAgBC,KAAjC;IACAd,WAAW,CAACY,QAAD,CAAX;EACH,CAJD;;EAMA,MAAMG,YAAY,GAAG,MAAOC,KAAP,IAAmD;IACpEA,KAAK,CAACC,cAAN;IACAnB,QAAQ,CAAC,MAAMH,mBAAmB,CAACI,QAAD,CAA1B,CAAR;IACAG,WAAW,CAAC,IAAD,CAAX;EACH,CAJD;;EAMA,MAAMgB,cAAc,GAAGjB,QAAQ,IAAIF,QAAZ,IAAwBS,SAA/C;EAEA,oBACI;IAAA,WACKU,cAAc,iBAAI,QAAC,QAAD;MAAU,OAAO,MAAjB;MAAkB,EAAE,EAAC;IAArB;MAAA;MAAA;MAAA;IAAA,QADvB,eAEI;MAAK,SAAS,EAAC,yEAAf;MAAA,wBACI;QAAM,SAAS,EAAC,QAAhB;QAAyB,QAAQ,EAAEH,YAAnC;QAAA,wBACI;UACI,IAAI,EAAC,QADT;UAEI,SAAS,EAAC,sBAFd;UAGI,WAAW,EAAC,iBAHhB;UAII,KAAK,EAAEhB,QAJX;UAKI,QAAQ,EAAEU;QALd;UAAA;UAAA;UAAA;QAAA,QADJ,eAQI;UACI,IAAI,EAAC,QADT;UAEI,SAAS,EAAC,iCAFd;UAGI,QAAQ,EAAE,CAACV,QAHf;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QARJ;MAAA;QAAA;QAAA;QAAA;MAAA,QADJ,EAiBKO,OAAO,iBAAI;QAAK,SAAS,EAAC;MAAf;QAAA;QAAA;QAAA;MAAA,QAjBhB,EAkBKC,KAAK,iBAAI;QAAG,SAAS,EAAC,aAAb;QAAA,UAA4BA;MAA5B;QAAA;QAAA;QAAA;MAAA,QAlBd;IAAA;MAAA;MAAA;MAAA;IAAA,QAFJ;EAAA,gBADJ;AAyBH,CA9CD;;GAAMV,M;UACeL,W,EAGAC,W;;;KAJfI,M;AAgDN,eAAeA,MAAf"},"metadata":{},"sourceType":"module"}